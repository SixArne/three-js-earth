import{G as e,S as t,W as s,P as i,O as n,T as o,a as r,M as a,b as d,c as h,d as c,A as l,V as g}from"./vendor.c402a011.js";var w=new class{constructor(e,o){this.controls=null,this.objects=new Map,this.scene=new t,this.renderer=new s({canvas:e}),this.camera=new i(75,window.innerWidth/window.innerHeight,.1,1e3),this.controls=new n(this.camera,this.renderer.domElement),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.grid=o,this.camera.position.setZ(30),this.renderer.render(this.scene,this.camera)}addMesh(e,t){this.scene.add(e),this.objects.set(t,e)}addLight(e,t){this.scene.add(e),this.objects.set(t,e)}addLights(...e){e.forEach((e=>{this.scene.add(e.light),this.objects.set(e.identifier,e.light)}))}toggleGrid(e){void 0!==this.objects.get(e)?(this.scene.remove(this.objects.get(e)),this.objects.delete(e)):(this.scene.add(this.grid),this.objects.set(e,this.grid))}removeObject(e){return this.objects.delete(e)}toggleOrbitControls(){null===this.controls?this.controls=new n(this.camera,this.renderer.domElement):(this.controls.dispose(),this.controls=null)}setBackground(e){this.scene.background=(new o).load(e)}animate(e){requestAnimationFrame((()=>this.animate(e)));const t=this.objects.get(e);null!==this.controls&&this.controls.update(),t.rotation.y+=.005,this.renderer.render(this.scene,this.camera)}}(document.querySelector("#bg"),new e(200,50));const m=e=>{const t=new r(.05),s=new a({color:16777215}),i=new d(t,s),[n,o,c]=Array(3).fill(3).map((()=>h.randFloatSpread(100)));i.position.set(n,o,c),w.addMesh(i,e)},b=new c(16777215);b.position.set(5,5,5);const j=new l(16777215);(()=>{for(let s=0;s<2e3;s++)m(`star-${s}`);w.addLights({identifier:"ambient_light",light:j},{identifier:"point_light",light:b});const e=(new o).load("../background.jpeg"),t=new d(new r(3,32,32),new a({map:e}));t.setRotationFromAxisAngle(new g(.5,0,0),20),w.addMesh(t,"earth"),w.animate("earth"),window.addEventListener("keydown",(e=>{"KeyO"==e.code&&w.toggleOrbitControls(),"KeyG"==e.code&&w.toggleGrid("grid")}))})();
